{% extends "network/layout.html" %}
{% load static %}


{% block title %}
    {% if request.GET.from == 'profile' %}
        Profile<{{ request.user }}>
    {% elif request.GET.from == 'index' %}
        All Posts
    {% endif %}
{% endblock %}
{% block script %}
    <script src="{% static 'network/inbox.js' %}"></script>
{%  endblock %}


{% block body %}
    {% if is_profile_page %}
        <div class="user_info">
            <button class="count_followers">Followers : {{ count_followers }}</button>
            <button class="count_following">Following : {{ count_following }}</button>
        </div>
        {% if activate_follow_or_unfollow %}
            {% if in_following %}
                <button class="unfollow_btn" data-user_id="{{ clicked_user.id }}">Unfollow</button>
            {% else %}
                <button class="follow_btn" data-user_id="{{ clicked_user.id }}">Follow</button>
            {% endif %}

        {% endif %}
    {% endif %}
    {% for post in posts %}
        <div class="each_post">
            <a class="post_user"
               href="{% url 'profile' post.username_of_poster.username %}">{{ post.username_of_poster }}</a>
            <div class="post_content">{{ post.content }}</div>
            <div class="date_posted">{{ post.date_posted }}</div>
            <div class="likes">{{ post.like }}</div>
        </div>
    {% endfor %}
{% endblock %}